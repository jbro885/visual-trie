(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,r){t.exports=r(20)},17:function(t,e,r){},19:function(t,e,r){},20:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(9),i=r.n(o),d=(r(17),r(2)),s=r(3),c=r(5),l=r(4),u=r(6),f=r(10),h=r.n(f),p=r(7),v=r(1),x=function(t){function e(t){var r;return Object(d.a)(this,e),(r=Object(c.a)(this,Object(l.a)(e).call(this,t))).state={root:[!1,0,!1],id:1,dict:[],renderedNodes:[],inputWord:""},r.state.dict[r.state.root]=[],r}return Object(u.a)(e,t),Object(s.a)(e,[{key:"addWord",value:function(t){for(var e=this,r=this.state.root,n=t.split("").entries(),a=n.next(),o=function(){for(var o,i=Object(p.a)(a.value,2),d=i[0],s=i[1],c=!1,l=e.state.dict[r].entries(),u=l.next(),f=function(){var n=Object(p.a)(u.value,2),a=n[0],o=n[1];if(o[0]===s)return d!==t.length-1||o[2]?(r,r=o):(e.setState(function(t){return t.dict[r][a]=[r[0],r[1],!0],{dict:t.dict}}),r,r=e.state.dict[r][a],e.setState(function(t){return t.dict[r]=e.state.dict[o],{dict:t.dict}}),e.setState(function(t){return delete t.dict[o],{dict:t.dict}})),c=!0,"break";u=l.next()};!u.done;){if("break"===f())break}if(!c){var h;h=d===t.length-1?[s,e.state.id,!0]:[s,e.state.id,!1];e.setState(((o=e.state).id+=1,{id:o.id}));e.setState(function(t){return t.dict[r].push(h),t.dict[h]=[],{dict:t.dict}}(e.state));var v=r;setTimeout(function(){return e.renderNewNode(v,h,d+1)},500*(d+1)),r,r=h}a=n.next()};!a.done;)o()}},{key:"findWordsFromNode",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.root;n[2]&&t.push(r),this.state.dict[n].forEach(function(n){var a=r+n[0];e.findWordsFromNode(t,a,n)})}},{key:"renderNewNode",value:function(t,e,r){var n,a=this,o=1,i=1,d=1e3/(o+1);if(this.state.renderedNodes[r]){o+=Object.keys(this.state.renderedNodes[r]).length,d=1e3/(o+1);this.setState((n=this.state,Object.keys(n.renderedNodes[r]).forEach(function(t){var e=n.renderedNodes[r][t];console.log("rerendering:",e[2].text()),console.log("counter:",i);var o=a.state.renderedNodes[r-1][e[5]][1],s=d*i,c=70*(r+1);e[1].transition().duration(500).attr("cx",s).attr("cy",c),e[2].transition().duration(500).attr("x",d*i-10).attr("y",70*(r+1)),e[3].transition().duration(500).attr("x1",o.attr("cx")).attr("y1",o.attr("cy")).attr("x2",s).attr("y2",c),e[4].forEach(function(t){t.transition().duration(500).attr("x1",s).attr("y1",c)}),i+=1}),{renderedNodes:n.renderedNodes}))}var s="#f3f3f3ff";e[2]&&(s="#fce5cdff"),console.log("creating:",e[0]);var c=this.state.renderedNodes[r-1][t][1],l=d*i,u=70*(r+1),f=v.a(this.svg).append("line").attr("x1",c.attr("cx")).attr("y1",c.attr("cy")).attr("x2",c.attr("cx")).attr("y2",c.attr("cy")).attr("stroke","black").lower();f.transition().duration(500).attr("x2",l).attr("y2",u);var h=v.a(this.svg).append("circle").attr("cx",l).attr("cy",u).attr("r",20).style("fill",s),p=v.a(this.svg).append("text").attr("x",d*i-10).attr("y",5+70*(r+1)).text("'".concat(e[0],"'")).style("font-size","25px").style("fill","black"),x=[];this.state.renderedNodes[r-1][t][4].push(f);this.setState(function(n){return n.renderedNodes[r]?n.renderedNodes[r][e]=[e,h,p,f,x,t]:(n.renderedNodes[r]=[],n.renderedNodes[r][e]=[e,h,p,f,x,t]),{renderedNodes:n.renderedNodes}}(this.state))}},{key:"componentDidMount",value:function(){var t,e=v.a(this.svg).append("circle").attr("cx",500).attr("cy",55).attr("r",20).style("fill","#f3f3f3ff"),r=v.a(this.svg).append("text").attr("x",495).attr("y",55).text("''").style("font-size","25px").style("fill","black"),n=[];this.setState(((t=this.state).renderedNodes[0]=[],t.renderedNodes[0][[!1,0,!1]]=[[!1,0,!1],e,r,null,n,null],{renderedNodes:t.renderedNodes}))}},{key:"autocomplete",value:function(t){var e=this,r=[],n=this.state.root;console.log("currNode",n),t.split("").forEach(function(t){var a=!1;if(e.state.dict[n].forEach(function(e){e[0]!==t||a||(n=e,a=!0)}),!a)return console.error("PREFIX NOT IN TRIE"),r});var a=n;return this.findWordsFromNode(r,t,a),r}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.state.inputWord.length>0&&(this.addWord(this.state.inputWord),this.setState({inputWord:""}))}},{key:"render",value:function(){var t=this,e=this.state.inputWord;return a.a.createElement("div",null,a.a.createElement("svg",{width:1e3,height:"800",id:"trie",ref:function(e){t.svg=e},style:{backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0px 6px 12px 4px rgba(0,0,0,0.57)",WebkitBoxShadow:"0px 6px 12px 4px rgba(0,0,0,0.57)",MozBoxShadow:"0px 6px 12px 4px rgba(0,0,0,0.57)"}}),a.a.createElement("form",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},onSubmit:function(e){return t.handleSubmit(e)}},a.a.createElement("div",{style:{marginTop:"16px",width:"30%",display:"flex",height:"3vh"}},a.a.createElement("input",{style:{width:"70%",textAlign:"center",borderRadius:"4px"},value:e,onChange:function(e){return t.setState({inputWord:e.target.value})},type:"text",placeholder:"New word"}),a.a.createElement("button",{style:{width:"27%",height:"105%",marginLeft:"3%",borderRadius:"4px"},type:"submit"},"Add Word"))))}}]),e}(n.Component),y=(r(19),function(t){function e(){return Object(d.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(h.a,{octoColor:"#444151",bannerColor:"#ffffff",href:"https://github.com/seve/visual-trie"}),a.a.createElement("div",{className:"canvas",style:{marginTop:"32px"}},a.a.createElement(x,null)))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.fef21401.chunk.js.map